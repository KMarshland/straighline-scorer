
export default function GPSTrackReducer(state, action) {
    if (state === undefined) {
        // state =
        //     [{latitude:35.695562,longitude:-105.934755},{latitude:35.698312991750996,longitude:-105.93342746908209},{latitude:35.701236200964765,longitude:-105.93175955455231},{latitude:35.704187397269116,longitude:-105.93003756948846},{latitude:35.706949720377835,longitude:-105.9286898734347},{latitude:35.709650211562845,longitude:-105.92746391847095},{latitude:35.71232831537678,longitude:-105.92628125874904},{latitude:35.71522240846804,longitude:-105.92467111086407},{latitude:35.718101268085334,longitude:-105.92309196115865},{latitude:35.72089504583112,longitude:-105.92168155254895},{latitude:35.72355846929536,longitude:-105.92052844732301},{latitude:35.72641089635628,longitude:-105.91900096545612},{latitude:35.729105397894166,longitude:-105.91778578014656},{latitude:35.73181903635656,longitude:-105.916531837559},{latitude:35.73450396032778,longitude:-105.91533378336625},{latitude:35.737305052264134,longitude:-105.91390532988423},{latitude:35.74019359151262,longitude:-105.91230430415601},{latitude:35.74286727995415,longitude:-105.91112831938418},{latitude:35.74551214098779,longitude:-105.9100080424171},{latitude:35.74814064848378,longitude:-105.90891856308211},{latitude:35.750776944086816,longitude:-105.9078120604484},{latitude:35.75368725745408,longitude:-105.90616305447459},{latitude:35.75660450509195,longitude:-105.90450151838935},{latitude:35.75923530107047,longitude:-105.90340668811926},{latitude:35.76205234714605,longitude:-105.9019425356095},{latitude:35.764891318134886,longitude:-105.90043533068645},{latitude:35.767695430088985,longitude:-105.89899739185238},{latitude:35.77063855670552,longitude:-105.89728512578151},{latitude:35.7734555351995,longitude:-105.89582340694788},{latitude:35.77637743477206,longitude:-105.8941547931266},{latitude:35.77904389785982,longitude:-105.89299174078208},{latitude:35.78195979273976,longitude:-105.8913349532484},{latitude:35.784858123769446,longitude:-105.88971409946383},{latitude:35.78759698449583,longitude:-105.88840913105865},{latitude:35.7902280401384,longitude:-105.88731637892249},{latitude:35.793077351598626,longitude:-105.88579103496573},{latitude:35.7957854094112,longitude:-105.88454511206517},{latitude:35.79874303503832,longitude:-105.88280559506074},{latitude:35.801561838534504,longitude:-105.88134186721467},{latitude:35.80439628664082,longitude:-105.87984750813106},{latitude:35.80720437900187,longitude:-105.8784055993295},{latitude:35.809922803619735,longitude:-105.8771408370564},{latitude:35.81276786534806,longitude:-105.87562524077332},{latitude:35.81555620124214,longitude:-105.874222170685},{latitude:35.81835927940477,longitude:-105.87278991898089},{latitude:35.82129560078868,longitude:-105.87109471999086},{latitude:35.82423344986455,longitude:-105.86939807421537},{latitude:35.82707858427209,longitude:-105.86788604358537},{latitude:35.82981660554876,longitude:-105.86658601123342},{latitude:35.83274029488772,longitude:-105.86491879603089},{latitude:35.835616284622006,longitude:-105.86334719189462},{latitude:35.838563196521065,longitude:-105.861636489482},{latitude:35.84144784334583,longitude:-105.86005042700457},{latitude:35.84422676440197,longitude:-105.8586740835368},{latitude:35.84701870163173,longitude:-105.85727182839223},{latitude:35.84976981576535,longitude:-105.85595009548658},{latitude:35.85262240397782,longitude:-105.85442750143817},{latitude:35.85536385187195,longitude:-105.85312495691579},{latitude:35.858256993628665,longitude:-105.85152229356798},{latitude:35.86106042044375,longitude:-105.85009787439046},{latitude:35.864014982864816,longitude:-105.84837517220106},{latitude:35.86674908377712,longitude:-105.8470895651395},{latitude:35.8697057809033,longitude:-105.84536376243427},{latitude:35.8726505139969,longitude:-105.84366350958716},{latitude:35.87549270098168,longitude:-105.842167480739},{latitude:35.878382053711874,longitude:-105.84057887641428},{latitude:35.88115540670847,longitude:-105.83922038171914},{latitude:35.88396441516838,longitude:-105.83779117740204},{latitude:35.886676300645064,longitude:-105.83655382273844},{latitude:35.88932378211451,longitude:-105.83544250660536},{latitude:35.89205156982538,longitude:-105.83417074504693},{latitude:35.89490538645104,longitude:-105.83264929532204},{latitude:35.89760034097719,longitude:-105.83144215958639},{latitude:35.9005045428613,longitude:-105.8298206260191},{latitude:35.90345797415057,longitude:-105.82810328001175},{latitude:35.906335379710896,longitude:-105.82653802731001},{latitude:35.90909371952434,longitude:-105.82520884371215},{latitude:35.91202869465386,longitude:-105.82353043222562},{latitude:35.91478186237813,longitude:-105.82221271775194},{latitude:35.917735785750715,longitude:-105.82049808082793},{latitude:35.92050598376199,longitude:-105.81914819806106},{latitude:35.923339087069536,longitude:-105.81767373575248},{latitude:35.926299878456035,longitude:-105.8159476590882},{latitude:35.92898835064676,longitude:-105.81476135088916},{latitude:35.9317554662614,longitude:-105.81341825974879},{latitude:35.93461029539442,longitude:-105.81190156146971},{latitude:35.937364833760014,longitude:-105.81058360442152},{latitude:35.94000511864526,longitude:-105.80949055492098},{latitude:35.942917678455565,longitude:-105.80785777584741},{latitude:35.945648391252575,longitude:-105.80658557090082},{latitude:35.94854324929793,longitude:-105.80498835052155},{latitude:35.95125100813327,longitude:-105.80376183718585},{latitude:35.9539193499322,longitude:-105.80261181090698},{latitude:35.95680595848172,longitude:-105.8010290140723},{latitude:35.95951611604179,longitude:-105.79979581530075},{latitude:35.96220347931434,longitude:-105.79860630750444},{latitude:35.96508657623708,longitude:-105.79702876351827},{latitude:35.9677332196378,longitude:-105.79591924436548},{latitude:35.97049785304277,longitude:-105.79457453457873},{latitude:35.97330346423937,longitude:-105.79314842494819},{latitude:35.97619268887458,longitude:-105.79141685480191},{latitude:35.976227362536385,longitude:-105.791462268894},{latitude:35.97636412661645,longitude:-105.79149713904843},{latitude:35.97636570087369,longitude:-105.79139830986729},{latitude:35.976208640603076,longitude:-105.7915367268601},{latitude:35.976291809691816,longitude:-105.79139190415776},{latitude:35.97631082558042,longitude:-105.79138000665635},{latitude:35.97624033007745,longitude:-105.7914700617995},{latitude:35.97625377716004,longitude:-105.79144691347233},{latitude:35.97625881313303,longitude:-105.79148691996116},{latitude:35.976182314562266,longitude:-105.79157784612426},{latitude:35.979082888588856,longitude:-105.7899656054204},{latitude:35.98176607544886,longitude:-105.78878406006419},{latitude:35.98470175999812,longitude:-105.78710228371185},{latitude:35.98745374608472,longitude:-105.78578526444011},{latitude:35.99010055430202,longitude:-105.78467513777608},{latitude:35.992903672031204,longitude:-105.78325405722728},{latitude:35.995590558519275,longitude:-105.78206250031978},{latitude:35.9983153400419,longitude:-105.78079436351216},{latitude:36.001153710244395,longitude:-105.77930082463611},{latitude:36.00394088644938,longitude:-105.77790900245132},{latitude:36.006665009205584,longitude:-105.77664147981592},{latitude:36.009560332221476,longitude:-105.77503479375967},{latitude:36.01245266106044,longitude:-105.77343562812233},{latitude:36.015087465890126,longitude:-105.7723463981344},{latitude:36.017902461543535,longitude:-105.77089873164952},{latitude:36.02082481812402,longitude:-105.769239420255},{latitude:36.02376046675,longitude:-105.76755598085172},{latitude:36.02659886591445,longitude:-105.76606686474386},{latitude:36.029243154755385,longitude:-105.76496161745284},{latitude:36.03188069696988,longitude:-105.76386700967826},{latitude:36.034717856990994,longitude:-105.76237554074709},{latitude:36.037561055239465,longitude:-105.76087284745608},{latitude:36.04032422205414,longitude:-105.75952894638893},{latitude:36.04326368147646,longitude:-105.7578364117989},{latitude:36.046159253835505,longitude:-105.75623306012349},{latitude:36.049043007135325,longitude:-105.75465480136188},{latitude:36.051896899888625,longitude:-105.75313704125115},{latitude:36.05487146085468,longitude:-105.75138208102604},{latitude:36.05779228719282,longitude:-105.74973645149106},{latitude:36.060554108807395,longitude:-105.74840696876956},{latitude:36.063333293285325,longitude:-105.7470424713212},{latitude:36.06617476619572,longitude:-105.74555460175799},{latitude:36.068904770259934,longitude:-105.7442875649449},{latitude:36.071656810278554,longitude:-105.74297565528128},{latitude:36.074283154123854,longitude:-105.7419109324601},{latitude:36.07712506098131,longitude:-105.74041725055456},{latitude:36.07986487055491,longitude:-105.73912595999201},{latitude:36.08278210631283,longitude:-105.73748322203647},{latitude:36.08558050649786,longitude:-105.73607745528517},{latitude:36.08835832874685,longitude:-105.73471228082245},{latitude:36.091245656111475,longitude:-105.73313048281848},{latitude:36.09419377106564,longitude:-105.73143050216004},{latitude:36.097118660355164,longitude:-105.72977946797646},{latitude:36.100061196836776,longitude:-105.72809621778676},{latitude:36.10287906750835,longitude:-105.72666207663994},{latitude:36.10554194296894,longitude:-105.72553424025008},{latitude:36.10823684899843,longitude:-105.72434013445509},{latitude:36.11109461077561,longitude:-105.72282219567113},{latitude:36.113859343524496,longitude:-105.72148915697022},{latitude:36.1167491880493,longitude:-105.71990831782762},{latitude:36.11941377524011,longitude:-105.71877415320475},{latitude:36.122331321821164,longitude:-105.71713750191779},{latitude:36.12524458655784,longitude:-105.71551198759873},{latitude:36.127994142084326,longitude:-105.71421224454205},{latitude:36.130639918480526,longitude:-105.71311612853712},{latitude:36.13359368008902,longitude:-105.7114083217066},{latitude:36.13635404174192,longitude:-105.71008596090624},{latitude:36.13925075501785,longitude:-105.70849342440472},{latitude:36.1419855435031,longitude:-105.70722286532842},{latitude:36.14479555346407,longitude:-105.7058021426833},{latitude:36.14775561388418,longitude:-105.7040854135609},{latitude:36.15052169825884,longitude:-105.70275560734359},{latitude:36.153209977378495,longitude:-105.70157845087068},{latitude:36.15603599612852,longitude:-105.70012642841007},{latitude:36.15886004830125,longitude:-105.69867891699475},{latitude:36.16157916131609,longitude:-105.69743914259111},{latitude:36.16429058714248,longitude:-105.69621232078308},{latitude:36.16725297779603,longitude:-105.69448763846844},{latitude:36.17006977504012,longitude:-105.69305477762336},{latitude:36.17275142192135,longitude:-105.69188911707575},{latitude:36.1754680652812,longitude:-105.6906509924326},{latitude:36.17835876408135,longitude:-105.6890668693801},{latitude:36.181199428272606,longitude:-105.68758409344518},{latitude:36.18406394895154,longitude:-105.68605536057626},{latitude:36.186999536166994,longitude:-105.68438818311233},{latitude:36.18985526272348,longitude:-105.68288263238044},{latitude:36.1928250641038,longitude:-105.68115347692981},{latitude:36.19569509427356,longitude:-105.67962637196558},{latitude:36.19845808589841,longitude:-105.678312593903},{latitude:36.20133777253296,longitude:-105.67676711362118},{latitude:36.20401623177093,longitude:-105.67562125449379},{latitude:36.20687569370449,longitude:-105.67411396114883},{latitude:36.209572998353714,longitude:-105.67292857710865},{latitude:36.21235385337483,longitude:-105.67157466924372},{latitude:36.215219026229704,longitude:-105.67005352396717},{latitude:36.218170024463674,longitude:-105.6683650483956},{latitude:36.2210458967848,longitude:-105.66682997380352},{latitude:36.22392770944252,longitude:-105.6652856507008},{latitude:36.22680372818256,longitude:-105.66375547472123},{latitude:36.22980928054559,longitude:-105.66231903555709},{latitude:36.22968968732508,longitude:-105.66227892723806},{latitude:36.22967944314016,longitude:-105.66226538138382},{latitude:36.229641097443846,longitude:-105.6621719721279},{latitude:36.22977357252939,longitude:-105.66216289907729},{latitude:36.22979464756215,longitude:-105.66223584615555},{latitude:36.229632095596365,longitude:-105.66214477217193},{latitude:36.22965353787856,longitude:-105.66217713049564},{latitude:36.22963460606237,longitude:-105.66225610858834},{latitude:36.22966819936977,longitude:-105.6623061884877},{latitude:36.22962050548852,longitude:-105.66234476302805},{latitude:36.23236699580179,longitude:-105.66107313784399},{latitude:36.23513621815814,longitude:-105.65975432396462},{latitude:36.23806418388147,longitude:-105.65812068266085},{latitude:36.240952476676505,longitude:-105.65657007681689},{latitude:36.243813150060284,longitude:-105.65507717696178},{latitude:36.24652762455874,longitude:-105.65387497666632},{latitude:36.249173519515104,longitude:-105.6528042561262},{latitude:36.25199888770616,longitude:-105.65137245764183},{latitude:36.25485776593639,longitude:-105.64987530002685},{latitude:36.25752422003514,longitude:-105.6487602490977},{latitude:36.2601951560406,longitude:-105.64763013839692},{latitude:36.263041744527904,longitude:-105.64614723087377},{latitude:36.265960718401566,longitude:-105.6445233548526},{latitude:36.26874900652428,longitude:-105.64316277796927},{latitude:36.271656311503875,longitude:-105.64156640039667},{latitude:36.27457072117678,longitude:-105.63996092097507},{latitude:36.27748856063183,longitude:-105.63835399922368},{latitude:36.28047149591936,longitude:-105.6366241343871},{latitude:36.283213918304284,longitude:-105.63537807874744},{latitude:36.286140863573614,longitude:-105.63376403612331},{latitude:36.28896518052856,longitude:-105.63235890895832},{latitude:36.291952741347465,longitude:-105.63063216845956},{latitude:36.294787094037424,longitude:-105.62921790453463},{latitude:36.297690578184074,longitude:-105.62766828171252},{latitude:36.300474057334455,longitude:-105.62636087242863},{latitude:36.30319709269741,longitude:-105.62517068830766},{latitude:36.30585800827857,longitude:-105.62409715716461},{latitude:36.30862704976855,longitude:-105.6228000837807},{latitude:36.31126498321344,longitude:-105.62175890004562},{latitude:36.314112049229486,longitude:-105.62029287643088},{latitude:36.316895648340434,longitude:-105.61895485035353},{latitude:36.31959051659336,longitude:-105.61779008615147},{latitude:36.32245521332909,longitude:-105.6162814598818},{latitude:36.325103776397285,longitude:-105.61520399253219},{latitude:36.32798750312849,longitude:-105.61364947748613},{latitude:36.330631349895356,longitude:-105.6125750605892},{latitude:36.333601155251465,longitude:-105.61084318058147},{latitude:36.336424549992614,longitude:-105.60941523530741},{latitude:36.339196322146115,longitude:-105.60809075158376},{latitude:36.34198336078136,longitude:-105.6067327042717},{latitude:36.344809727193365,longitude:-105.60529508054789},{latitude:36.34752264413092,longitude:-105.60408359189307},{latitude:36.35027545279481,longitude:-105.60278303864558},{latitude:36.353076647856085,longitude:-105.60138108401007},{latitude:36.35575355175563,longitude:-105.60022436372466},{latitude:36.35865441870458,longitude:-105.59860952044615},{latitude:36.36137054994816,longitude:-105.5973732299211},{latitude:36.36403761775136,longitude:-105.59622153147171},{latitude:36.366947753587056,longitude:-105.5945700322718},{latitude:36.36986146437356,longitude:-105.59293041226557},{latitude:36.37263596165709,longitude:-105.59158589112319},{latitude:36.37526933203078,longitude:-105.59051445448851},{latitude:36.378069412148854,longitude:-105.58907919172027},{latitude:36.38088866558257,longitude:-105.58760761365703},{latitude:36.38370113228784,longitude:-105.58615580311533},{latitude:36.386544080116074,longitude:-105.58464862214159},{latitude:36.38947914544488,longitude:-105.5829743667831},{latitude:36.39229432309903,longitude:-105.58158696104972},{latitude:36.395250691893054,longitude:-105.57992190081511},{latitude:36.397958913092815,longitude:-105.57882681353972},{latitude:36.40091494677768,longitude:-105.57715116728681},{latitude:36.40386991414711,longitude:-105.57563351011764},{latitude:36.406698506254905,longitude:-105.57458894057339},{latitude:36.40916910589575,longitude:-105.57304755478327}];

        state = '-106.202149,35.811251,1909.8 -106.202169,35.81125,1909.9 -106.20227,35.811245,1909.7 -106.20235,35.811204,1910.7 -106.202369,35.811196,1910.8 -106.202537,35.81114,1912.7 -106.202555,35.811135,1912.7 -106.202748,35.811095,1912.8 -106.202765,35.81109,1913.1 -106.202929,35.811038,1914.6 -106.202946,35.811033,1914.4 -106.203109,35.810973,1916.4 -106.203125,35.810966,1916 -106.203139,35.81096,1916.1 -106.203157,35.81097,1914.5 -106.203176,35.811021,1913.7 -106.203236,35.811004,1913.2 -106.203236,35.810974,1912.6 -106.203228,35.810958,1912.4 -106.203223,35.810944,1912.4 -106.203235,35.810926,1912.2 -106.20337,35.810894,1912.8 -106.203388,35.810888,1912.8 -106.20342,35.810873,1913 -106.20345,35.810876,1913 -106.203477,35.810925,1912.7 -106.203538,35.810901,1912.5 -106.20355,35.810895,1912.6 -106.203556,35.810875,1912.4 -106.203547,35.810843,1912.2 -106.203556,35.810818,1912.3 -106.203646,35.810785,1912.1 -106.203661,35.810779,1912.4 -106.203782,35.810726,1913.4'
            .split(' ').map((coordinate) => {
                return {
                    longitude: parseFloat(coordinate.split(',')[0]),
                    latitude: parseFloat(coordinate.split(',')[1])
                }
            });

        // randomize slightly so we can test smoothing
        for (let i = 1; i < state.length - 1; i++) {
            state[i].latitude  += (Math.random() - 0.5)*0.00005;
            state[i].longitude += (Math.random() - 0.5)*0.00005;
        }
    }

    return state;
}
